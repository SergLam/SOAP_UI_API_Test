<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="f49c1dd8-463f-4bc9-ab1b-4877be92c6ee" activeEnvironment="Default" name="Obmenka REST API" resourceRoot="" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="6a50ff0f-730f-4124-96f8-b229ce214f84" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ratesinfo.com.ua" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ratesinfo.com.ua</con:endpoint></con:endpoints><con:resource name="Cities" path="/mobile-api/api/v1/list/cities" id="5ff84165-f052-43ec-b28d-78616c0c818d"><con:settings/><con:parameters/><con:method name="Cities 1" id="85de51d6-8089-43bb-b768-c1f6c01ba147" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cit="https://ratesinfo.com.ua/mobile-api/api/v1/list/cities">cit:Response</con:element></con:representation><con:request name="Request 1" id="2d15144b-d128-42c6-b2e1-7ac3c66a77e1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request/><con:originalUri>https://ratesinfo.com.ua/mobile-api/api/v1/list/cities</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="check" path="/mobile-api/api/v1/user/check" id="3ac976f8-0c88-42eb-ad7f-243bc0e6dd93"><con:settings/><con:parameters/><con:method name="Method 1" id="e927cb5e-038c-4af3-8933-cab2a0e9158d" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404 400</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:chec="https://ratesinfo.com.ua/api/v1/user/check">chec:Response</con:element></con:representation><con:request name="Request 1" id="e1f39be4-5f68-4db2-bd2c-e113d5fc945f" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request>{"phonenumber":"+380666719040"}</con:request><con:originalUri>https://ratesinfo.com.ua/api/v1/user/check</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="entry" path="/mobile-api/api/v1/user/entry" id="4faebbea-a8fb-4ffc-88db-1d7107aded97"><con:settings/><con:parameters/><con:method name="Method 1" id="335a30e8-bd4c-4dcd-8f94-aee8b60eaf6b" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ent="https://ratesinfo.com.ua/mobile-api/api/v1/user/entry">ent:Response</con:element></con:representation><con:request name="Request 1" id="77de70f9-1dda-46a8-8f06-1a95efed46a1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request>{"key":"eSkgq0KuDCQ:APA91bEtcQaTujTtMDb-NN2FSS6_mBH7TQQ8SgR4CBU3tULpGbZwIgg-6XGLP6EZQlBq4i0ESY0Sv0y5F7TineivHUSekbs5Qs6NZlq1shI-5jT3iTC7NGuvjVJ-SAx9usKvHAjAIEfR","phonenumber":"+380666719040","passwordhash":"0ffe1abd1a08215353c233d6e009613e95eec4253832a761af28ff37ac5a150c","oc":"android"}</con:request><con:originalUri>https://ratesinfo.com.ua/mobile-api/api/v1/user/entry</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="info" path="/mobile-api/api/v1/user/info" id="78c1b143-e053-415d-91d1-831ca377fd7b"><con:settings/><con:parameters/><con:method name="Method 1" id="19458116-e9c8-42da-b750-7013defd6570" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:info="https://ratesinfo.com.ua/mobile-api/api/v1/user/info">info:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>405 404 401</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="8cd57f43-14c7-469e-b451-2662b4f75f36" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request>{"KEY":"eufa2d17211df1df75a35e13a12cc15f38172b012e8321c779074a78f6d47dbe355943f9451d41c83400efa867"}</con:request><con:originalUri>https://ratesinfo.com.ua/mobile-api/api/v1/user/info</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:testSuite id="121a1507-2eb7-424c-ab07-1d73a6b5130d" name="LogInUser"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f3cbf3be-7998-4166-9113-b95edb3b535c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetUserInfo" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="LogIn" id="c5a4481d-4d4d-4381-9447-e25182ab07b5"><con:settings/><con:config service="https://ratesinfo.com.ua" resourcePath="/mobile-api/api/v1/user/entry" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="LogIn" id="77de70f9-1dda-46a8-8f06-1a95efed46a1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request>{"key":"eSkgq0KuDCQ:APA91bEtcQaTujTtMDb-NN2FSS6_mBH7TQQ8SgR4CBU3tULpGbZwIgg-6XGLP6EZQlBq4i0ESY0Sv0y5F7TineivHUSekbs5Qs6NZlq1shI-5jT3iTC7NGuvjVJ-SAx9usKvHAjAIEfR","phonenumber":"+380666719040","passwordhash":"0ffe1abd1a08215353c233d6e009613e95eec4253832a761af28ff37ac5a150c","oc":"android"}</con:request><con:originalUri>https://ratesinfo.com.ua/mobile-api/api/v1/user/entry</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="PrepareUserInfoBody" id="c396ea4c-5619-4de2-b35d-d722137e48f9"><con:settings/><con:config><script>import groovy.json.JsonSlurper


def loginStep = testRunner.runTestStepByName("LogIn")
def loginResponse = loginStep.getResponse()
def jsonString = loginResponse.getContentAsString()

def map = new JsonSlurper().parseText(jsonString)
def key = map.user.KEY

def UserInfoBody = '{"KEY":"'+key+'"}'
def getUserInfoStep = testRunner.testCase.getTestStepByName("GetUserInfo")
def request = getUserInfoStep.getTestRequest()
request.setRequestContent(UserInfoBody)


log.info(key)</script></con:config></con:testStep><con:testStep type="restrequest" name="GetUserInfo" id="df97c393-bb7d-45ec-8965-b03eee84ccdb"><con:settings/><con:config service="https://ratesinfo.com.ua" resourcePath="/mobile-api/api/v1/user/info" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetUserInfo" id="8cd57f43-14c7-469e-b451-2662b4f75f36" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ratesinfo.com.ua</con:endpoint><con:request>{"KEY":"eudbb2a8b1fe76e5453e851dc181301cab53fe2051262c96ca4ee6fb4887ba1c525943f9451d41c83400efa867"}</con:request><con:originalUri>https://ratesinfo.com.ua/mobile-api/api/v1/user/info</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>